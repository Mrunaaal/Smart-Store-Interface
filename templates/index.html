<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Smart Store Map</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
  </head>

  <body>
    <div class="container">
      <header class="header">
        <nav
          class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom"
        >
          <a
            href="/"
            class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none"
          >
            <span class="fs-4">Smart Store Map</span>
          </a>

          <ul class="nav nav-pills">
            <li class="nav-item">
              <a href="/" class="nav-link active" aria-current="page">Home</a>
            </li>
            <li class="nav-item">
              <a href="/admin" class="nav-link">Admin</a>
            </li>
          </ul>
        </nav>
      </header>
      <div class="p-5 mb-4 bg-light rounded-3">
        <div class="container-fluid w-50 py-5 text-center">
          <h1 class="display-5 fw-bold">Store Map App</h1>
          <!-- string input -->
          <form id="form-user" action="/api/search" method="POST">
            <input
              type="text"
              name="product"
              class="my-5 row form-control"
              placeholder="What are you looking for"
            />
            <input
              type="submit"
              action=""
              class="btn btn-lg btn-success"
              role="button"
              text="Search for product"
            />
          </form>
        </div>
      </div>

      <div class="row marketing">
        <div class="col-lg-6">{{products}}</div>
      </div>
    </div>
  </body>
  <script>
    document;
    // .querySelector("#form-user")
    // .addEventListener("submit", async function (e) {
    //   e.preventDefault();
    //   console.log(new URLSearchParams(new FormData(e.target)).toString());
    //   const res = await fetch("/api/search", {
    //     body: new URLSearchParams(new FormData(e.target)).toString(),
    //     method: "POST",
    //     headers: {
    //       "Content-Type": "text/html; charset=utf-8",
    //     },
    //   });
    //   console.log(await res.json());
    //   console.log("After res");
    // });
  </script>
</html>
